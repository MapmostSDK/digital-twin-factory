class CarApi {
    constructor(map) {
        this._map = map;
    }

    Car() {
        let carPaths = [
            {
                s: 100000,
                coord: [
                    [120.72892611790869, 31.285618354478686, 0.2],
                    [120.7282038676081, 31.285631903363292, 0.2],
                    [120.72805437267088, 31.285723551757787, 0.2],
                    [120.72807970560093, 31.286783775817682, 0.2],
                    [120.72807347839256, 31.287859858125326, 0.2],
                    [120.72807995154415, 31.28894900990504, 0.2],
                    [120.72805745499211, 31.289648259429544, 0.2],
                    [120.72827965330482, 31.289803297627323, 0.2],
                    [120.72897563805344, 31.289789622724125, 0.2],
                    [120.72908857669297, 31.2896790635976, 0.2],
                    [120.72909450774121, 31.289275633380694, 0.2],
                    [120.72923058258752, 31.28922036199634, 0.2],
                    [120.72992346560369, 31.289231287877627, 0.2],
                    [120.7304854658103, 31.2892301490787, 0.2],
                    [120.73060227811331, 31.289137373908662, 0.2],
                    [120.73061464326493, 31.28848120994873, 0.2],
                    [120.7306200178151, 31.28783751430924, 0.2],
                    [120.73062435794262, 31.287240721474646, 0.2],
                    [120.7306297203925, 31.28684189506922, 0.2],
                    [120.73062750429605, 31.28653702073715, 0.2],
                    [120.730524733864, 31.286491596425506, 0.2],
                    [120.72975900444521, 31.286483496439573, 0.2],
                    [120.72912966743496, 31.286479372800404, 0.2],
                    [120.72905350526761, 31.286395326490283, 0.2],
                    [120.72904396388572, 31.285960874944706, 0.2],
                    [120.72903481607881, 31.28565254043537, 0.2]
                ]
            }, {
                s: 50000,
                coord: [
                    [120.72807724619986, 31.28737060920359, 0.2],
                    [120.72809521278664, 31.289585264363176, 0.2],
                    [120.72796590308792, 31.289707494784363, 0.2],
                    [120.727926789701, 31.28862489755481, 0.2],
                    [120.7279083202619, 31.28733751859083, 0.2],
                    [120.72793015983922, 31.28629816675669, 0.2],
                    [120.72792069666167, 31.285837247338545, 0.2],
                    [120.72802888676652, 31.285745472599466, 0.2],
                    [120.7280582326095, 31.286415552301218, 0.2],
                    [120.72805510077997, 31.28703289249846, 0.2],
                    [120.72813886642348, 31.287642173434044, 0.2]

                ]
            }, {
                s: 50000,
                coord: [
                    [120.72906524402265, 31.289720601805932, 0.2],
                    [120.72906286448789, 31.289319216758432, 0.2],
                    [120.7291833790528, 31.289213417839957, 0.2],
                    [120.7296507452174, 31.289203183246556, 0.2],
                    [120.73027856968245, 31.289209051865903, 0.2],
                    [120.73047622312488, 31.28920958120244, 0.2],
                    [120.73057150886132, 31.289122042329673, 0.2],
                    [120.73057107841055, 31.288732350936716, 0.2],
                    [120.73057642625457, 31.28841004819142, 0.2],
                    [120.73058373682787, 31.287996901756742, 0.2],
                    [120.73058692299574, 31.287558537768287, 0.2],
                    [120.73058870939383, 31.28719935748565, 0.2],
                    [120.73059535400444, 31.28683529508305, 0.2],
                    [120.73059915029029, 31.28656892092811, 0.2],
                    [120.73050602847945, 31.286490397617985, 0.2],
                    [120.73011454859449, 31.286489224634586, 0.2],
                    [120.72974631181638, 31.286486556442988, 0.2],
                    [120.7293267597216, 31.286478998856076, 0.2],
                    [120.72914991008086, 31.28647797504624, 0.2],
                    [120.7290440602927, 31.28638801085898, 0.2],
                    [120.72902935743123, 31.286121394543297, 0.2],
                    [120.72902764967473, 31.285846986883268, 0.2],
                    [120.7290717694149, 31.2858702420457, 0.2],
                    [120.72907697886316, 31.286348546260776, 0.2],
                    [120.72915243574525, 31.28644577202334, 0.2],
                    [120.72965631456891, 31.286446831438752, 0.2],
                    [120.73011401930067, 31.286450456408346, 0.2],
                    [120.73053413865283, 31.286460556364517, 0.2],
                    [120.73063603458638, 31.286568291129353, 0.2],
                    [120.73063447289077, 31.28691362545513, 0.2],
                    [120.73063199512369, 31.28716783091157, 0.2],
                    [120.73062798368174, 31.287542557389447, 0.2],
                    [120.73062625931496, 31.288000809572097, 0.2],
                    [120.73062251936068, 31.288354169469944, 0.2],
                    [120.7306201146764, 31.288839557719452, 0.2],
                    [120.73062154213565, 31.28912567068579, 0.2],
                    [120.73060318755422, 31.28917316382274, 0.2],
                    [120.73048331431283, 31.289231996903137, 0.2],
                    [120.72968683837094, 31.28923458811905, 0.2],
                    [120.72918540249124, 31.289236644244195, 0.2],
                    [120.72911425396205, 31.28929782188765, 0.2],
                    [120.72910159839161, 31.289717635835693, 0.2],
                    [120.72885049842473, 31.289929242844064, 0.2],
                    [120.7282247500411, 31.28990628516087, 0.2],
                    [120.72807593455641, 31.290133418150607, 0.2],
                    [120.72809168433909, 31.291826031459838, 0.2],
                    [120.72810631549018, 31.292705551495533, 0.2]
                ]
            }, {
                s: 50000,
                coord: [
                    [120.73065145611747, 31.286525087049046, 0.2],
                    [120.73063584723673, 31.287136273527, 0.2],
                    [120.73063586230289, 31.28771820978946, 0.2],
                    [120.73064067151152, 31.28845287545495, 0.2],
                    [120.73062229041942, 31.289071313911997, 0.2],
                    [120.73058398380338, 31.289073716309932, 0.2],
                    [120.73058749638932, 31.28860111380941, 0.2],
                    [120.73058450754951, 31.288144377261013, 0.2],
                    [120.73058946783989, 31.287814987944017, 0.2],
                    [120.73059675555649, 31.287470744349697, 0.2],
                    [120.73059166607933, 31.28714052665701, 0.2],
                    [120.73059912166612, 31.286850631072124, 0.2],
                    [120.73059807043848, 31.2865621145171, 0.2],
                    [120.73064130983488, 31.286568594898025, 0.2],
                    [120.73063698247125, 31.28698873387807, 0.2],
                    [120.73063896282743, 31.287450303148063, 0.2],
                    [120.7306289139681, 31.28809438200857, 0.2],
                    [120.73063197425238, 31.28861568971395, 0.2],
                    [120.73061539900091, 31.288939648163474, 0.2],

                    [120.73060318755422, 31.28917316382274, 0.2],
                    [120.73048331431283, 31.289231996903137, 0.2],
                    [120.72968683837094, 31.28923458811905, 0.2],
                    [120.72918540249124, 31.289236644244195, 0.2],
                    [120.72911425396205, 31.28929782188765, 0.2],
                    [120.72910159839161, 31.289717635835693, 0.2],
                    [120.72885049842473, 31.289929242844064, 0.2],
                    [120.7282247500411, 31.28990628516087, 0.2],
                    [120.72807593455641, 31.290133418150607, 0.2],
                    [120.72809168433909, 31.291826031459838, 0.2],
                    [120.72810631549018, 31.292705551495533, 0.2]

                ]
            }, {
                s: 100000,
                coord: [
                    [120.7278824406884, 31.28734080298879, 0.2],
                    [120.72701988197568, 31.287347664340274, 0.2],
                    [120.72623069599304, 31.28733962058357, 0.2],
                    [120.72593300603019, 31.287469859360385, 0.2],
                    [120.72596178979121, 31.28819761900737, 0.2],
                    [120.72597708932878, 31.289074308622084, 0.2],
                    [120.72599233679857, 31.290295540914524, 0.2],
                    [120.72599980501934, 31.29073901602942, 0.2],
                    [120.72635066422896, 31.290841576111813, 0.2],
                    [120.72792269230732, 31.290854122506243, 0.2],
                    [120.72805421813051, 31.29066809145266, 0.2],
                    [120.72806798494108, 31.290110088846138, 0.2],
                    [120.72809547131364, 31.28985684754256, 0.2],
                    [120.72908814511872, 31.289809089657695, 0.2],
                    [120.73147589261994, 31.28980841944569, 0.2],
                    [120.73190811786205, 31.290034895056657, 0.2],
                    [120.73197770161042, 31.291780901375787, 0.2],

                ]
            }, {
                s: 100000,
                coord: [
                    [120.72794289037897, 31.289861906062775, 0.2], [120.72791894624025, 31.288679999091183, 0.2], [120.72792251628404, 31.286857596834903, 0.2], [120.72791762511788, 31.285766313383093, 0.2], [120.72827092770505, 31.285523946295974, 0.2], [120.72967802282378, 31.285510155647334, 0.2], [120.73135726502485, 31.285487723222058, 0.2], [120.73184251103763, 31.285531067915223, 0.2], [120.73192222098596, 31.285947427332296, 0.2], [120.73192809118154, 31.287129500366422, 0.2], [120.7319546111305, 31.288309271771393, 0.2], [120.73193647689666, 31.289533787831864, 0.2], [120.73151973735784, 31.289890830762317, 0.2], [120.72959393331577, 31.289920228753864, 0.2], [120.72835649388594, 31.289932098676886, 0.2], [120.72794367173135, 31.28960900815847, 0.2], [120.72791115212749, 31.28852951355462, 0.2], [120.7279007551965, 31.28750108791743, 0.2], [120.72749809669308, 31.287332688881932, 0.2], [120.72590270539554, 31.287376432438997, 0.2], [120.72451438019266, 31.2873404667648, 0.2]
                ]
            }, {
                s: 100000,
                coord: [
                    [120.729062004137, 31.289736044331907, 0.2], [120.72905960524126, 31.289521113837854, 0.2], [120.72906625563775, 31.289290064208, 0.2], [120.72916462246887, 31.28921387500271, 0.2], [120.72966936379842, 31.28920899072867, 0.2], [120.72998912846398, 31.2892070865286, 0.2], [120.73028851912525, 31.28921407880087, 0.2], [120.7305130903302, 31.289213427007105, 0.2], [120.73057355624694, 31.289163271538364, 0.2], [120.73057206230038, 31.28882692947403, 0.2], [120.73057655616132, 31.288388809380457, 0.2], [120.73058035140038, 31.287947837362147, 0.2], [120.73058392154212, 31.286989535143302, 0.2], [120.7305970872273, 31.286539985215377, 0.2], [120.73051550750509, 31.28648958450628, 0.2], [120.72983273280552, 31.286493471458417, 0.2], [120.72913763679419, 31.28649024995857, 0.2], [120.72903396926976, 31.286387769324296, 0.2], [120.72902731405031, 31.285750573655683, 0.2], [120.72889490616544, 31.285651312748335, 0.2], [120.7281520746208, 31.285634906570294, 0.2], [120.72809204346437, 31.28576390842736, 0.2], [120.72809681060382, 31.28708742691712, 0.2], [120.72809008154657, 31.288727654986044, 0.2], [120.72809950750168, 31.289708242631544, 0.2], [120.72820079855475, 31.289795908290582, 0.2], [120.72908177968573, 31.289777880591316, 0.2], [120.73010355395347, 31.28978685052623, 0.2], [120.73103985500359, 31.289780241658807, 0.2], [120.73168801646669, 31.289782124307084, 0.2], [120.73180095195983, 31.28966547576023, 0.2], [120.73179926800383, 31.289101767023453, 0.2], [120.7318104692832, 31.288484877592488, 0.2], [120.73221534374261, 31.288308228834765, 0.2], [120.73312850940421, 31.288308401107244, 0.2], [120.73325631827782, 31.288130786371813, 0.2], [120.73307980479058, 31.287185772354146, 0.2], [120.73280203874398, 31.285848367784823, 0.2], [120.73318470656314, 31.285516409760316, 0.2], [120.7357417345908, 31.285486600316922, 0.2]
                ]
            }, {
                s: 100000,
                coord: [
                    [120.72805998254475, 31.285242873325434, 0.2], [120.72807668022233, 31.285842050486302, 0.2], [120.7280824308415, 31.28633586241076, 0.2], [120.72808217533775, 31.287212528134013, 0.2], [120.72808601279496, 31.28796603944054, 0.2], [120.72809501053334, 31.289480451954343, 0.2], [120.72810024979101, 31.28971386364288, 0.2], [120.7282243961453, 31.289786409527363, 0.2], [120.72890584075967, 31.289795567618953, 0.2], [120.72958787759347, 31.28979146942463, 0.2], [120.730523935489, 31.28978861837053, 0.2], [120.73125939095236, 31.289790267012727, 0.2], [120.73172414444993, 31.28979248492704, 0.2], [120.73184901055848, 31.28953806636814, 0.2], [120.73184746547842, 31.288803800189456, 0.2], [120.73184257742003, 31.288381056582725, 0.2], [120.73139488832642, 31.28836444246684, 0.2], [120.7307914060839, 31.28835943504122, 0.2], [120.73068383477657, 31.288361450208097, 0.2], [120.73059822639715, 31.288255389497504, 0.2], [120.73059370119074, 31.28760162481329, 0.2], [120.7306018096092, 31.287018109785194, 0.2], [120.73060182178993, 31.286545099919355, 0.2], [120.73054065508056, 31.286485917607106, 0.2], [120.72935007666571, 31.2864861476551, 0.2], [120.72912469884183, 31.286478631019406, 0.2], [120.72903683705678, 31.285866216741876, 0.2], [120.72903681126573, 31.285729247974967, 0.2], [120.72891001186707, 31.28566977520098, 0.2], [120.72818469782764, 31.285664238546325, 0.2], [120.72735921161967, 31.285672940157205, 0.2], [120.72569937750397, 31.285673572381555, 0.2], [120.72489372657462, 31.28567760495531, 0.2], [120.72437762697733, 31.28568106645485, 0.2]
                ]
            }, {
                s: 100000,
                coord: [
                    [120.73184097430764, 31.29078896476984, 0.2], [120.7318361027112, 31.290060924833213, 0.2], [120.73182888110262, 31.28952771357688, 0.2], [120.73185415300355, 31.288948991668196, 0.2], [120.73184615232029, 31.287954963943417, 0.2], [120.73184287223695, 31.28725199428178, 0.2], [120.73183462234759, 31.285850145169412, 0.2], [120.73183585296063, 31.285716573688525, 0.2], [120.73078919692044, 31.285616693719692, 0.2], [120.73003826619119, 31.285629348267868, 0.2], [120.72882982912245, 31.285627674764036, 0.2], [120.72830271367022, 31.28562235862986, 0.2], [120.72812761773537, 31.28560612374988, 0.2], [120.72805217770892, 31.285846387256168, 0.2], [120.72805507565779, 31.286577217080605, 0.2], [120.72806005448689, 31.287163138691206, 0.2], [120.72766377158658, 31.287364686271587, 0.2], [120.72634323574667, 31.28737164747597, 0.2]
                ]
            }

        ]
        let ms = ["SM_Bus_01", "SM_Taxi", "SM_Tesla", "SM_Tesla", "SM_Bus_01", "SM_Ford_Fiesta", "SM_Car", "SM_Tesla", "SM_Taxi"];

        for (let i = 0; i < carPaths.length; i++) {
            let m = [{
                type: 'glb',
                url: "./assets/models/机动车/" + ms[i] + ".mm",
                decryptWasm:'https://delivery.mapmost.com/cdn/b3dm_codec/0.0.2-alpha/sdk_b3dm_codec_wasm_bg_opt.wasm' //模型解密
            }]
            let uuid = this.getUuid();
            let options2 = {
                id: uuid,
                type: 'model',
                models: m,
                center: [120.73062035254365, 31.288398677612456, 0.9999941344157874],
                callback: function (group, layer) {
                    if (i == 7) {
                        group.setRotation({ x: 100, y: 100, z: 100 })
                    }
                    // 车辆移动动画
                    group.followPath({ path: carPaths[i].coord, duration: carPaths[i].s }, () => {
                    })
                }
            };
            this._map.addLayer(options2);
        }
    }
    getUuid() {
        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
            var r = (Math.random() * 16) | 0,
                v = c == 'x' ? r : (r & 0x3) | 0x8;
            return v.toString(16);
        });
    }
}

export default CarApi;